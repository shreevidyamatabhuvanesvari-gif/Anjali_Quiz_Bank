<!DOCTYPE html>
<html lang="hi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ЁЯУЪ Anjali Quiz Bank тАУ Secure Access</title>

  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: "Poppins", system-ui, sans-serif;
      background: linear-gradient(135deg, #fff8f8, #fdfdfd);
      color: #333;
      text-align: center;
    }

    header {
      background: #8b2d2d;
      color: white;
      font-size: 26px;
      font-weight: bold;
      padding: 16px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.25);
    }

    main {
      margin-top: 80px;
    }

    .anjali {
      font-style: italic;
      color: #8b2d2d;
      animation: fadeIn 1.5s ease-in-out;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    input {
      padding: 12px;
      font-size: 18px;
      width: 280px;
      border: 1px solid #ccc;
      border-radius: 8px;
      margin-top: 12px;
    }

    button {
      padding: 12px 26px;
      font-size: 18px;
      font-weight: bold;
      color: white;
      background: #8b2d2d;
      border: none;
      border-radius: 8px;
      margin-top: 20px;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    button:hover {
      background: #a33a3a;
      transform: scale(1.05);
    }

    footer {
      margin-top: 80px;
      font-size: 14px;
      color: #777;
    }

    .hidden { display: none; }
  </style>
</head>

<body>
  <header>ЁЯУЪ Anjali Quiz Bank</header>

  <main>
    <h2 id="welcomeText">рдирдорд╕реНрддреЗ! ЁЯСЛ</h2>
    <p id="anjaliText" class="anjali">рдЕрдВрдЬрд▓реА рдХрд╣рддреА рд╣реИ тАФ тАЬAnjali Quiz Bank рдореЗрдВ рдЖрдкрдХрд╛ рд╕реНрд╡рд╛рдЧрдд рд╣реИредтАЭ</p>

    <div id="passwordSection" class="hidden">
      <p id="passwordPrompt">рдХреГрдкрдпрд╛ рдкрд╛рд╕рд╡рд░реНрдб рджрд░реНрдЬ рдХрд░реЗрдВ ЁЯФТ</p>
      <input type="password" id="passwordInput" maxlength="10" placeholder="10 рдЕрдВрдХреЛрдВ рдХрд╛ рдкрд╛рд╕рд╡рд░реНрдб рдЯрд╛рдЗрдк рдХрд░реЗрдВ" />
      <br>
      <button id="submitPassword">рдЬрдорд╛ рдХрд░реЗрдВ</button>
      <br>
      <button id="changePassword" class="hidden">ЁЯФБ рдкрд╛рд╕рд╡рд░реНрдб рдмрджрд▓реЗрдВ</button>
    </div>
  </main>

  <footer>┬й 2026 Anjali Quiz Bank | Designed with тЭдя╕П by You</footer>

  <script>
    /****************************************************
     * ЁЯОд Voice Function (рдЕрдВрдЬрд▓реА рдХреА рдЖрд╡рд╛рдЬ)
     ****************************************************/
    function speak(text) {
      const synth = window.speechSynthesis;
      const speakNow = () => {
        const utter = new SpeechSynthesisUtterance(text);
        utter.lang = "hi-IN";
        utter.pitch = 1.1;
        utter.rate = 0.95;
        utter.volume = 1;
        const voices = synth.getVoices();
        const femaleVoice = voices.find(v =>
          v.lang.startsWith("hi") || v.name.toLowerCase().includes("female") || v.name.includes("Google рд╣рд┐рдиреНрджреА")
        );
        utter.voice = femaleVoice || voices[0];
        synth.speak(utter);
      };

      if (synth.getVoices().length === 0) {
        synth.onvoiceschanged = speakNow;
      } else {
        speakNow();
      }
    }

    /****************************************************
     * ЁЯФР Secure Password System (SHA-256 Hash)
     ****************************************************/
    async function hashPassword(password) {
      const msgBuffer = new TextEncoder().encode(password);
      const hashBuffer = await crypto.subtle.digest("SHA-256", msgBuffer);
      const hashArray = Array.from(new Uint8Array(hashBuffer));
      return hashArray.map(b => b.toString(16).padStart(2, "0")).join("");
    }

    async function checkPassword(input) {
      const savedHash = localStorage.getItem("anjali_password_hash");
      const inputHash = await hashPassword(input);
      return savedHash === inputHash;
    }

    /****************************************************
     * ЁЯза Logic
     ****************************************************/
    const passwordSection = document.getElementById("passwordSection");
    const passwordPrompt = document.getElementById("passwordPrompt");
    const passwordInput = document.getElementById("passwordInput");
    const submitBtn = document.getElementById("submitPassword");
    const changeBtn = document.getElementById("changePassword");

    async function init() {
      speak("рдирдорд╕реНрддреЗ, рдЕрдВрдЬрд▓реА рдХреНрд╡рд┐рдЬрд╝ рдмреИрдВрдХ рдореЗрдВ рдЖрдкрдХрд╛ рд╕реНрд╡рд╛рдЧрдд рд╣реИред");

      const savedHash = localStorage.getItem("anjali_password_hash");

      // рдкрд╣рд▓реА рдмрд╛рд░: рдкрд╛рд╕рд╡рд░реНрдб рд╕реЗрдЯ рдХрд░реЗрдВ
      if (!savedHash) {
        speak("рдХреГрдкрдпрд╛ рдЕрдкрдирд╛ 10 рдЕрдВрдХреЛрдВ рдХрд╛ рдкрд╛рд╕рд╡рд░реНрдб рд╕реЗрдЯ рдХрд░реЗрдВред");
        passwordPrompt.textContent = "рдкрд╣рд▓реА рдмрд╛рд░ рд▓реЙрдЧрд┐рди тАФ рдкрд╛рд╕рд╡рд░реНрдб рд╕реЗрдЯ рдХрд░реЗрдВ ЁЯФС";
        passwordSection.classList.remove("hidden");
        submitBtn.onclick = async () => {
          const pass = passwordInput.value.trim();
          if (pass.length !== 10 || isNaN(pass)) {
            alert("тЪая╕П рдкрд╛рд╕рд╡рд░реНрдб 10 рдЕрдВрдХреЛрдВ рдХрд╛ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП (рдХреЗрд╡рд▓ рд╕рдВрдЦреНрдпрд╛)ред");
            return;
          }
          const hashed = await hashPassword(pass);
          localStorage.setItem("anjali_password_hash", hashed);
          speak("рдЖрдкрдХрд╛ рдкрд╛рд╕рд╡рд░реНрдб рд╕реБрд░рдХреНрд╖рд┐рдд рдХрд░ рд▓рд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред");
          alert("тЬЕ рдкрд╛рд╕рд╡рд░реНрдб рд╕реЗрдЯ рд╣реЛ рдЧрдпрд╛!");
          location.reload();
        };
      }

      // рдпрджрд┐ рдкрд╛рд╕рд╡рд░реНрдб рдкрд╣рд▓реЗ рд╕реЗ рд╣реИ
      else {
        speak("рдХреГрдкрдпрд╛ рдкрд╛рд╕рд╡рд░реНрдб рдЯрд╛рдЗрдк рдХрд░реЗрдВред");
        passwordPrompt.textContent = "рдХреГрдкрдпрд╛ рдкрд╛рд╕рд╡рд░реНрдб рджрд░реНрдЬ рдХрд░реЗрдВ ЁЯФТ";
        passwordSection.classList.remove("hidden");
        changeBtn.classList.remove("hidden");

        submitBtn.onclick = async () => {
          const pass = passwordInput.value.trim();
          const match = await checkPassword(pass);
          if (match) {
            speak("рдкрд╛рд╕рд╡рд░реНрдб рд╕рд╣реА рд╣реИ, рдХрдВрдЯреНрд░реЛрд▓ рдкреИрдирд▓ рдЦреЛрд▓рд╛ рдЬрд╛ рд░рд╣рд╛ рд╣реИред");
            alert("тЬЕ рдкрд╛рд╕рд╡рд░реНрдб рд╕рддреНрдпрд╛рдкрд┐рдд рд╣реБрдЖ!");
            window.location.href = "control-panel/index.html";
          } else {
            speak("рдЧрд▓рдд рдкрд╛рд╕рд╡рд░реНрдб рд╣реИ, рдХреГрдкрдпрд╛ рдкреБрдирдГ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВред");
            alert("тЭМ рдЧрд▓рдд рдкрд╛рд╕рд╡рд░реНрдб!");
          }
        };

        changeBtn.onclick = async () => {
          const oldPass = prompt("рдкреБрд░рд╛рдирд╛ рдкрд╛рд╕рд╡рд░реНрдб рджрд░реНрдЬ рдХрд░реЗрдВ:");
          if (!oldPass) return;
          const match = await checkPassword(oldPass);
          if (!match) {
            speak("рдкреБрд░рд╛рдирд╛ рдкрд╛рд╕рд╡рд░реНрдб рдЧрд▓рдд рд╣реИред");
            alert("тЭМ рдкреБрд░рд╛рдирд╛ рдкрд╛рд╕рд╡рд░реНрдб рдЧрд▓рдд рд╣реИред");
            return;
          }
          const newPass = prompt("рдирдпрд╛ 10 рдЕрдВрдХреЛрдВ рдХрд╛ рдкрд╛рд╕рд╡рд░реНрдб рджрд░реНрдЬ рдХрд░реЗрдВ:");
          if (!newPass || newPass.length !== 10 || isNaN(newPass)) {
            alert("тЪая╕П рдирдпрд╛ рдкрд╛рд╕рд╡рд░реНрдб 10 рдЕрдВрдХреЛрдВ рдХрд╛ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред");
            return;
          }
          const hashed = await hashPassword(newPass);
          localStorage.setItem("anjali_password_hash", hashed);
          speak("рдирдпрд╛ рдкрд╛рд╕рд╡рд░реНрдб рд╕реБрд░рдХреНрд╖рд┐рдд рдХрд░ рд▓рд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред");
          alert("тЬЕ рдкрд╛рд╕рд╡рд░реНрдб рдмрджрд▓ рдЧрдпрд╛!");
          location.reload();
        };
      }
    }

    window.addEventListener("DOMContentLoaded", init);
  </script>
</body>
</html>
